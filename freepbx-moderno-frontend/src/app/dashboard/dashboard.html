<!--// src/app/dashboard/dashboard.html -->
<h1>ğŸ“Š Dashboard FreePBX Moderno</h1>

<button (click)="loadStats()" [disabled]="loading" class="btn-refresh">
  ğŸ”„ {{ loading ? 'Cargando...' : 'Actualizar' }}
</button>

@if (loading) {
  <p>Cargando mÃ©tricas...</p>
} @else {
  <!-- MÃ©tricas generales -->
  <div class="stats-grid">
    <div class="stat-card">
      <h3>ğŸ“ Llamadas hoy</h3>
      <p class="stat-value">{{ stats.general.calls_today }}</p>
    </div>
    <div class="stat-card">
      <h3>ğŸ“… Llamadas este mes</h3>
      <p class="stat-value">{{ stats.general.calls_this_month }}</p>
    </div>
    <div class="stat-card">
      <h3>â±ï¸ DuraciÃ³n promedio</h3>
      <p class="stat-value">{{ stats.general.avg_duration }} seg</p>
    </div>
    <div class="stat-card">
      <h3>âœ… Tasa de respuesta</h3>
      <p class="stat-value">{{ stats.general.answer_rate }}%</p>
    </div>
    <div class="stat-card">
      <h3>ğŸ‘¥ Extensiones activas</h3>
      <p class="stat-value">{{ stats.general.active_extensions }}</p>
    </div>
  </div>

  <!-- GrÃ¡ficos -->
  <div class="charts-container">
    <div class="chart-card">
      <h3>ğŸ“ˆ Llamadas por hora (Ãºltimas 24h)</h3>
      <canvas #hourlyChart></canvas>
    </div>

    <div class="chart-card">
      <h3>ğŸ“‰ Tendencias diarias</h3>
      <canvas #dailyChart></canvas>
    </div>

    <div class="chart-card">
      <h3>ğŸ¯ DistribuciÃ³n de destinos</h3>
      <canvas #destChart></canvas>
    </div>
  </div>

  <!-- BotÃ³n exportar PDF -->
  <button (click)="downloadPdf()" class="btn-pdf">
    ğŸ“„ Generar Informe PDF
  </button>
}